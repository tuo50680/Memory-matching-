
import random

def roll():
    return random.randint(1,6)

#part 1
def autoTurn(target=20, score=0):
    total = 0
    rolled1 = False
    while total < target and not rolled1:
        points = roll()
        #print("Roll: ", points)
        if points == 1:
            total = 0
            rolled1 = True
        else:
            total += points
    #print("Turn total: ", total)
    #print("New Score: ", score + total)
    return total

#autoTurn()

#part 2
def holdAt20TurnSim(numSims):
    results = {0:0}
    for num in range(20,26):
        results[num] = 0
        
    for _ in range(numSims):
        turnTotal = autoTurn()
        results[turnTotal] += 1
        
    print("Score", "Est Prob")
    for total in results:
        print(total,results[total]/numSims)

#numSims = int(input("Hold-at-20 turn simulations? "))
#holdAt20TurnSim(numSims)

#part 3
def holdAtXTurnSim(numSims, target):
    results = {0:0}
    for num in range(target, target + 6):
        results[num] = 0
        
    for _ in range(numSims):
        turnTotal = autoTurn(target)
        results[turnTotal] += 1
        
    print("Score", "Est Prob")
    for total in results:
        print(total,results[total]/numSims)
    
#numSims = int(input("Hold-at-X turn simulations? "))
#holdAtXTurnSim(numSims, 100)

#part 4
def holdAt20Turn(target=20):
    total = 0
    rolled1 = False
    while total < target and total + score < 100 and not rolled1:
        points = roll()
        print("Roll: ", points)
        if points == 1:
            total = 0
            rolled1 = True
        else:
            total += points

    print("Turn total: ", total)
    print("New Score: ", score + total)
    return total

#score = int(input("Score? "))
#holdAt20Turn()


#part 5
def holdAt20Game(target=20):
    total = 0
    score= 0
    while score < 100:
        total = 0
        rolled1 = False
        while total < target and total + score < 100 and not rolled1:
            points = roll()
            print("Roll: ", points)
            if points == 1:
                total = 0
                rolled1 = True
            else:
                total += points
 
        print("Turn total: ", total)
        score += total
        print("New Score: ", score)

    return score 

#holdAt20Game()


#part 6
def holdAt20GamePlay(target=20):
    total = 0
    score= 0
    turns = 0
    while score < 100:
        total = 0
        rolled1 = False
        while total < target and total + score < 100 and not rolled1:
            points = roll()
            if points == 1:
                total = 0
                rolled1 = True
            else:
                total += points

        score += total
        turns += 1
    return turns

def averagePigTurns(games):
    total_turns = 0
    
    for _ in range(games):
        total_turns += holdAt20GamePlay()

    average = total_turns / games
    return average

#games = int(input("Games? "))
#print("Average turns:", averagePigTurns(games))

#part 7
def twoPlayerPig(target=20):
    total = 0
    score1 = 0
    score2 = 0
    print("Player 1 score:", score1)
    print("Player 2 score:", score2)
    while score1 < 100 and score2 < 100:
        print("It's Player 1's turn")
        total = 0
        rolled1 = False
        while total < target and total + score1 < 100 and not rolled1:
            points = roll()
            print("Roll: ", points)
            if points == 1:
                total = 0
                rolled1 = True
            else:
                total += points

        print("Turn total: ", total)
        score1 += total
        print("New Score:", score1)
        print("Player 1 Score: ", score1)
        print("Player 2 Score: ", score2)

        total = 0
        rolled1 = False
        print("It's Player 2's turn")
        while total < target and total + score2 < 100 and not rolled1:
            points = roll()
            print("Roll: ", points)
            if points == 1:
                total = 0
                rolled1 = True
            else:
                total += points       
 
        print("Turn total: ", total)
        score2 += total
        print("New Score:", score2)
        print("Player 1 Score: ", score1)
        print("Player 2 Score: ", score2)

#twoPlayerPig()


#part 8
def player():
    return random.choice("12")

def userTurn(target = 20, score = 0):
    total = 0
    rolled1 = False
    
    while total < target and not rolled1:
        roll_or_hold = input("Roll or hold? ").strip()
        if roll_or_hold:
            break
        points = roll()
        print("Roll: ", points)
        if points == 1:
            total = 0
            rolled1 = True
            break
        else:
            total += points
    print("Turn total: ", total)
    return total

def computerTurn(target=20, score=0):
    total = 0
    rolled1 = False
    while total < target and not rolled1:
        points = roll()
        print("Roll: ", points)
        if points == 1:
            total = 0
            rolled1 = True
            break
        else:
            total += points
    print("Turn total: ", total)
    return total

def PigGame():
    score1 = 0
    score2 = 0
    total = 0
    user = player()
    print("You will be player", user)
    print("Enter nothing to roll; enter anything to hold ")

    print("Player 1 score:", score1)
    print("Player 2 score:", score2)
    
    while score1 < 100 and score2 < 100:
        print("It is player 1's turn")
        if user == "1":
            total = userTurn()
        else:
            total = computerTurn()
        score1 += total
        print("New score: ", score1)
        print("Player 1 score:", score1)
        print("Player 2 score:", score2)
            
        if score1 >= 100:
            print("Player 1 wins!")
            break

        print("It is player 2's turn")
        if user == "2":
            total = userTurn()
        else:
            total = computerTurn()
        score2 += total
        print("New score: ", score1)
        print("Player 1 score:", score1)
        print("Player 2 score:", score2)
            
        if score2 >= 100:
            print("Player 2 wins!")
            break
                
PigGame()






